{% extends 'base.html' %}

{% block content %}
<main class="container mt-3">
  <div class="card my-4 mx-auto">
    <div class="card-body m-2 m-md-4">
      <article class="row">
        <div class="col-5"><img src="{{ tutor_info['picture'] }}" class="img-fluid" alt=""></div>
        <div class="col-7">

          <section class="teacher=info">
            <h1 class="h2">{{ tutor_info.name }}</h1>
            <p><span class="badge badge-secondary mr-2">{{ tutor_info.study }}</span>–†–µ–π—Ç–∏–Ω–≥: üòç{{ tutor_info.rating }} –°—Ç–∞–≤–∫–∞: {{ tutor_info.price }} / —á–∞—Å</p>
            <p>{{ tutor_info.about }}</p>
          </section>

          <section class="available">
            <h4 class="mb-4 mt-5">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ–±–Ω—ã–π —É—Ä–æ–∫</h4>
            {% set weekdays = (
              ('–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫', 'mon', 'monday'),
              ('–í—Ç–æ—Ä–Ω–∏–∫', 'tue', 'tuesday'),
              ('–°—Ä–µ–¥–∞', 'wed', 'wednesday'),
              ('–ß–µ—Ç–≤–µ—Ä–≥', 'thu', 'thursday'),
              ('–ü—è—Ç–Ω–∏—Ü–∞', 'fri', 'friday'),
              ('–°—É–±–±–æ—Ç–∞', 'sat', 'saturday'),
              ('–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ', 'sun', 'sunday')) %}
            {% for day_rus, day_eng_short, day_eng_long in weekdays %}
              <h6 class="mt-4">{{ day_rus }}</h6>
              {% if tutor_info.free[day_eng_short].values()|select|first %}
                {% for time, is_free in tutor_info.free[day_eng_short].items() %}
                  {% if is_free %}
                    <a href="{{ url_for('render_booking', tutor_id=tutor_info.id, class_day=day_eng_long, time=time) }}" class="btn btn-outline-success mr-2 my-2"
                    >{{ time }} —Å–≤–æ–±–æ–¥–Ω–æ</a>
                  {% endif %}
                {% endfor %}
              {% else %}
                <p>–ù–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã—Ö —É—Ä–æ–∫–æ–≤</p> 
              {% endif %}
            {% endfor %}
          </section>

        </div>
      </article>
    </div>
  </div>
</main> 
{% endblock content %}